{"ast":null,"code":"var _jsxFileName = \"/Users/ramtinabolfazli/Documents/Work/AIThink/AIThinkFinal/aithinkglobal/client/src/components/Header.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from \"react\";\nimport { Link, useLocation, useNavigate } from \"react-router-dom\";\nimport \"./Header.css\";\nimport { onAuthStateChanged, signOut } from \"firebase/auth\";\nimport { auth, db } from \"./firebase\";\n// import { doc, getDoc } from 'firebase/firestore';\nimport { useAuth } from \"../context/ContextProvider\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function Header() {\n  _s();\n  const [mobileNavOpen, setMobileNavOpen] = useState(false);\n  const [headerScrolled, setHeaderScrolled] = useState(false);\n  const location = useLocation(); // Hook to get current URL path\n  const headerRef = useRef(null); // Ref to access the header DOM element\n  const mobileNavToggleBtnRef = useRef(null); // Ref for the mobile nav toggle button\n  const navigate = useNavigate();\n  const [profileMenuOpen, setProfileMenuOpen] = useState(false);\n  const profileMenuRef = useRef(null);\n\n  // Use the auth context instead of local state\n  const {\n    user,\n    role,\n    loading\n  } = useAuth();\n\n  // Remove the old auth listener since we're using context now\n\n  const handleProfileClick = () => {\n    setProfileMenuOpen(!profileMenuOpen);\n  };\n  const handleLogout = async () => {\n    await signOut(auth);\n    alert(\"You have been logged out.\");\n    navigate(\"/\");\n  };\n\n  // --- Scroll-based 'scrolled' class on body ---\n  useEffect(() => {\n    const toggleScrolled = () => {\n      // Access the header through the ref\n      const selectHeader = headerRef.current;\n\n      // Ensure header exists and has relevant sticky classes\n      if (!selectHeader || !selectHeader.classList.contains(\"scroll-up-sticky\") && !selectHeader.classList.contains(\"sticky-top\") && !selectHeader.classList.contains(\"fixed-top\")) {\n        return;\n      }\n\n      // Add/remove 'scrolled' class on the body based on scroll position\n      if (window.scrollY > 100) {\n        document.body.classList.add(\"scrolled\");\n        setHeaderScrolled(true); // Also update React state for component's own class\n      } else {\n        document.body.classList.remove(\"scrolled\");\n        setHeaderScrolled(false); // Also update React state\n      }\n    };\n    window.addEventListener(\"scroll\", toggleScrolled);\n    window.addEventListener(\"load\", toggleScrolled); // For initial load check\n\n    // Cleanup: remove event listeners when component unmounts\n    return () => {\n      window.removeEventListener(\"scroll\", toggleScrolled);\n      window.removeEventListener(\"load\", toggleScrolled);\n    };\n  }, []); // Empty dependency array means this runs once on mount\n\n  // --- Mobile Navigation Toggle ---\n  const toggleMobileNav = () => {\n    // Toggle the mobileNavOpen state\n    setMobileNavOpen(prev => !prev);\n  };\n\n  // Effect to apply/remove 'mobile-nav-active' class on body\n  useEffect(() => {\n    if (mobileNavOpen) {\n      document.body.classList.add(\"mobile-nav-active\");\n      // If using bi-list and bi-x, ensure toggle button reflects state\n      if (mobileNavToggleBtnRef.current) {\n        mobileNavToggleBtnRef.current.classList.remove(\"bi-list\");\n        mobileNavToggleBtnRef.current.classList.add(\"bi-x\");\n      }\n    } else {\n      document.body.classList.remove(\"mobile-nav-active\");\n      if (mobileNavToggleBtnRef.current) {\n        mobileNavToggleBtnRef.current.classList.remove(\"bi-x\");\n        mobileNavToggleBtnRef.current.classList.add(\"bi-list\");\n      }\n    }\n  }, [mobileNavOpen]); // Re-run when mobileNavOpen state changes\n\n  // --- Hide mobile nav on same-page/hash links (or any link click) ---\n  const closeMobileNav = () => {\n    if (mobileNavOpen) {\n      setMobileNavOpen(false); // Close the mobile nav\n    }\n  };\n\n  // --- Navmenu Scrollspy ---\n  useEffect(() => {\n    const navmenuScrollspy = () => {\n      // Select all nav links inside the navmenu\n      const navmenulinks = document.querySelectorAll('#navmenu a[href^=\"#\"]'); // Only target hash links\n\n      navmenulinks.forEach(navmenulink => {\n        const hash = navmenulink.hash;\n        if (!hash) return; // Skip links without a hash\n\n        const section = document.querySelector(hash);\n        if (!section) return; // Skip if section doesn't exist\n\n        const position = window.scrollY + 200; // Offset for header height\n\n        if (position >= section.offsetTop && position < section.offsetTop + section.offsetHeight) {\n          // If the section is in view, add 'active' class to its corresponding nav link\n          // First, remove 'active' from all other nav links\n          document.querySelectorAll(\"#navmenu a\").forEach(link => {\n            if (link !== navmenulink) {\n              // Don't remove if it's the current active one\n              link.classList.remove(\"active\");\n            }\n          });\n          navmenulink.classList.add(\"active\");\n        } else {\n          // If the section is not in view, remove 'active' class\n          navmenulink.classList.remove(\"active\");\n        }\n      });\n\n      // Special handling for the root path if no specific section is active\n      if (location.pathname === \"/\" && window.scrollY < 200) {\n        // Adjust value as needed\n        const homeLink = document.querySelector('.navmenu a[href=\"/\"]');\n        if (homeLink) {\n          document.querySelectorAll(\".navmenu a\").forEach(link => link.classList.remove(\"active\"));\n          homeLink.classList.add(\"active\");\n        }\n      }\n    };\n    window.addEventListener(\"load\", navmenuScrollspy);\n    document.addEventListener(\"scroll\", navmenuScrollspy);\n\n    // Cleanup: remove event listeners\n    return () => {\n      window.removeEventListener(\"load\", navmenuScrollspy);\n      document.removeEventListener(\"scroll\", navmenuScrollspy);\n    };\n  }, [location.pathname]); // Re-run if path changes (e.g., navigating directly)\n\n  // Close profile menu when clicking outside or pressing Escape\n  useEffect(() => {\n    function handleOutsideClick(e) {\n      if (profileMenuOpen && profileMenuRef.current && !profileMenuRef.current.contains(e.target)) {\n        setProfileMenuOpen(false);\n      }\n    }\n    function handleKeydown(e) {\n      if (e.key === \"Escape\") setProfileMenuOpen(false);\n    }\n    document.addEventListener(\"mousedown\", handleOutsideClick);\n    document.addEventListener(\"touchstart\", handleOutsideClick);\n    document.addEventListener(\"keydown\", handleKeydown);\n    return () => {\n      document.removeEventListener(\"mousedown\", handleOutsideClick);\n      document.removeEventListener(\"touchstart\", handleOutsideClick);\n      document.removeEventListener(\"keydown\", handleKeydown);\n    };\n  }, [profileMenuOpen]);\n  return /*#__PURE__*/_jsxDEV(\"header\", {\n    ref: headerRef,\n    className: `header ${headerScrolled ? \"scrolled\" : \"\"}`,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"header-container\",\n      children: [/*#__PURE__*/_jsxDEV(Link, {\n        to: \"/\",\n        className: \"logo\",\n        onClick: closeMobileNav,\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: \"/assets/img/logo.png\",\n          alt: \"logo\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 191,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"nav\", {\n        className: `navmenu ${mobileNavOpen ? \"open\" : \"\"}`,\n        children: /*#__PURE__*/_jsxDEV(\"ul\", {\n          className: \"main-nav\",\n          children: !user ?\n          /*#__PURE__*/\n          // Guest navigation\n          _jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(\"li\", {\n              children: /*#__PURE__*/_jsxDEV(Link, {\n                to: \"/\",\n                className: location.pathname === \"/\" ? \"active\" : \"\",\n                children: \"Home\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 201,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 200,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              children: /*#__PURE__*/_jsxDEV(Link, {\n                to: \"/contact\",\n                className: location.pathname === \"/contact\" ? \"active\" : \"\",\n                children: \"Contact\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 209,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 208,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              children: /*#__PURE__*/_jsxDEV(Link, {\n                to: \"/careers\",\n                className: location.pathname === \"/careers\" ? \"active\" : \"\",\n                children: \"Careers\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 217,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 216,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              children: /*#__PURE__*/_jsxDEV(Link, {\n                to: \"/auth?mode=login\",\n                className: location.pathname === \"/auth\" ? \"active\" : \"\",\n                children: \"Login\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 225,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 224,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true) : role === \"admin\" ?\n          /*#__PURE__*/\n          // Admin navigation\n          _jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(\"li\", {\n              children: /*#__PURE__*/_jsxDEV(Link, {\n                to: \"/admin\",\n                className: location.pathname === \"/admin\" ? \"active\" : \"\",\n                children: \"Dashboard\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 237,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 236,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              children: /*#__PURE__*/_jsxDEV(Link, {\n                to: \"/admin/homepage\",\n                className: location.pathname === \"/admin/homepage\" ? \"active\" : \"\",\n                children: \"Homepage\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 245,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 244,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              children: /*#__PURE__*/_jsxDEV(Link, {\n                to: \"/admin/contact\",\n                className: location.pathname === \"/admin/contact\" ? \"active\" : \"\",\n                children: \"Contact\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 255,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 254,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              children: /*#__PURE__*/_jsxDEV(Link, {\n                to: \"/admin/careers\",\n                className: location.pathname === \"/admin/careers\" ? \"active\" : \"\",\n                children: \"Careers\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 265,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 264,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              className: \"profile-menu\",\n              ref: profileMenuRef,\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: handleProfileClick,\n                className: \"profile-btn\",\n                children: [\"Admin \", profileMenuOpen ? \"▲\" : \"▼\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 275,\n                columnNumber: 19\n              }, this), profileMenuOpen && /*#__PURE__*/_jsxDEV(\"ul\", {\n                className: \"dropdown\",\n                children: [/*#__PURE__*/_jsxDEV(\"li\", {\n                  children: /*#__PURE__*/_jsxDEV(Link, {\n                    to: \"/\",\n                    onClick: closeMobileNav,\n                    children: \"Public Site\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 281,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 280,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                  children: /*#__PURE__*/_jsxDEV(\"button\", {\n                    className: \"logout-btn\",\n                    onClick: handleLogout,\n                    children: \"Logout\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 286,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 285,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 279,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 274,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true) : role === \"user\" ?\n          /*#__PURE__*/\n          // User navigation\n          _jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(\"li\", {\n              children: /*#__PURE__*/_jsxDEV(Link, {\n                to: \"/user\",\n                className: location.pathname === \"/user\" ? \"active\" : \"\",\n                children: \"Dashboard\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 298,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 297,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              children: /*#__PURE__*/_jsxDEV(Link, {\n                to: \"/user/homepage\",\n                className: location.pathname === \"/user/homepage\" ? \"active\" : \"\",\n                children: \"Homepage\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 306,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 305,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              children: /*#__PURE__*/_jsxDEV(Link, {\n                to: \"/user/contact\",\n                className: location.pathname === \"/user/contact\" ? \"active\" : \"\",\n                children: \"Contact\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 316,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 315,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              children: /*#__PURE__*/_jsxDEV(Link, {\n                to: \"/user/careers\",\n                className: location.pathname === \"/user/careers\" ? \"active\" : \"\",\n                children: \"Careers\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 326,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 325,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              className: \"profile-menu\",\n              ref: profileMenuRef,\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: handleProfileClick,\n                className: \"profile-btn\",\n                children: [\"Profile \", profileMenuOpen ? \"▲\" : \"▼\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 336,\n                columnNumber: 19\n              }, this), profileMenuOpen && /*#__PURE__*/_jsxDEV(\"ul\", {\n                className: \"dropdown\",\n                children: [/*#__PURE__*/_jsxDEV(\"li\", {\n                  children: /*#__PURE__*/_jsxDEV(Link, {\n                    to: \"/user/profile\",\n                    children: \"Settings\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 342,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 341,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                  children: /*#__PURE__*/_jsxDEV(Link, {\n                    to: \"/\",\n                    onClick: closeMobileNav,\n                    children: \"Public Site\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 345,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 344,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                  children: /*#__PURE__*/_jsxDEV(\"button\", {\n                    className: \"logout-btn\",\n                    onClick: handleLogout,\n                    children: \"Logout\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 350,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 349,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 340,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 335,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true) :\n          /*#__PURE__*/\n          // Fallback for users without role\n          _jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(\"li\", {\n              children: /*#__PURE__*/_jsxDEV(Link, {\n                to: \"/\",\n                className: location.pathname === \"/\" ? \"active\" : \"\",\n                children: \"Home\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 362,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 361,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              children: /*#__PURE__*/_jsxDEV(Link, {\n                to: \"/contact\",\n                className: location.pathname === \"/contact\" ? \"active\" : \"\",\n                children: \"Contact\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 370,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 369,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              children: /*#__PURE__*/_jsxDEV(Link, {\n                to: \"/careers\",\n                className: location.pathname === \"/careers\" ? \"active\" : \"\",\n                children: \"Careers\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 378,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 377,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              className: \"profile-menu\",\n              ref: profileMenuRef,\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: handleProfileClick,\n                className: \"profile-btn\",\n                children: [\"User \", profileMenuOpen ? \"▲\" : \"▼\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 386,\n                columnNumber: 19\n              }, this), profileMenuOpen && /*#__PURE__*/_jsxDEV(\"ul\", {\n                className: \"dropdown\",\n                children: [/*#__PURE__*/_jsxDEV(\"li\", {\n                  children: /*#__PURE__*/_jsxDEV(Link, {\n                    to: \"/profile\",\n                    children: \"Settings\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 392,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 391,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                  children: /*#__PURE__*/_jsxDEV(\"button\", {\n                    className: \"logout-btn\",\n                    onClick: handleLogout,\n                    children: \"Logout\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 395,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 394,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 390,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 385,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 195,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"i\", {\n        ref: mobileNavToggleBtnRef,\n        className: `mobile-nav-toggle ${mobileNavOpen ? \"open\" : \"\"}`,\n        onClick: toggleMobileNav,\n        children: \"\\u2630\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 407,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 185,\n    columnNumber: 5\n  }, this);\n}\n_s(Header, \"DCRmn0JhrgFhWwtv2CGgr0NnGkM=\", false, function () {\n  return [useLocation, useNavigate, useAuth];\n});\n_c = Header;\nvar _c;\n$RefreshReg$(_c, \"Header\");","map":{"version":3,"names":["React","useState","useEffect","useRef","Link","useLocation","useNavigate","onAuthStateChanged","signOut","auth","db","useAuth","jsxDEV","_jsxDEV","Fragment","_Fragment","Header","_s","mobileNavOpen","setMobileNavOpen","headerScrolled","setHeaderScrolled","location","headerRef","mobileNavToggleBtnRef","navigate","profileMenuOpen","setProfileMenuOpen","profileMenuRef","user","role","loading","handleProfileClick","handleLogout","alert","toggleScrolled","selectHeader","current","classList","contains","window","scrollY","document","body","add","remove","addEventListener","removeEventListener","toggleMobileNav","prev","closeMobileNav","navmenuScrollspy","navmenulinks","querySelectorAll","forEach","navmenulink","hash","section","querySelector","position","offsetTop","offsetHeight","link","pathname","homeLink","handleOutsideClick","e","target","handleKeydown","key","ref","className","children","to","onClick","src","alt","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/ramtinabolfazli/Documents/Work/AIThink/AIThinkFinal/aithinkglobal/client/src/components/Header.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from \"react\";\nimport { Link, useLocation, useNavigate } from \"react-router-dom\";\nimport \"./Header.css\";\nimport { onAuthStateChanged, signOut } from \"firebase/auth\";\nimport { auth, db } from \"./firebase\";\n// import { doc, getDoc } from 'firebase/firestore';\nimport { useAuth } from \"../context/ContextProvider\";\n\nexport default function Header() {\n  const [mobileNavOpen, setMobileNavOpen] = useState(false);\n  const [headerScrolled, setHeaderScrolled] = useState(false);\n  const location = useLocation(); // Hook to get current URL path\n  const headerRef = useRef(null); // Ref to access the header DOM element\n  const mobileNavToggleBtnRef = useRef(null); // Ref for the mobile nav toggle button\n  const navigate = useNavigate();\n  const [profileMenuOpen, setProfileMenuOpen] = useState(false);\n  const profileMenuRef = useRef(null);\n\n  // Use the auth context instead of local state\n  const { user, role, loading } = useAuth();\n\n  // Remove the old auth listener since we're using context now\n\n  const handleProfileClick = () => {\n    setProfileMenuOpen(!profileMenuOpen);\n  };\n  const handleLogout = async () => {\n    await signOut(auth);\n    alert(\"You have been logged out.\");\n    navigate(\"/\");\n  };\n\n  // --- Scroll-based 'scrolled' class on body ---\n  useEffect(() => {\n    const toggleScrolled = () => {\n      // Access the header through the ref\n      const selectHeader = headerRef.current;\n\n      // Ensure header exists and has relevant sticky classes\n      if (\n        !selectHeader ||\n        (!selectHeader.classList.contains(\"scroll-up-sticky\") &&\n          !selectHeader.classList.contains(\"sticky-top\") &&\n          !selectHeader.classList.contains(\"fixed-top\"))\n      ) {\n        return;\n      }\n\n      // Add/remove 'scrolled' class on the body based on scroll position\n      if (window.scrollY > 100) {\n        document.body.classList.add(\"scrolled\");\n        setHeaderScrolled(true); // Also update React state for component's own class\n      } else {\n        document.body.classList.remove(\"scrolled\");\n        setHeaderScrolled(false); // Also update React state\n      }\n    };\n\n    window.addEventListener(\"scroll\", toggleScrolled);\n    window.addEventListener(\"load\", toggleScrolled); // For initial load check\n\n    // Cleanup: remove event listeners when component unmounts\n    return () => {\n      window.removeEventListener(\"scroll\", toggleScrolled);\n      window.removeEventListener(\"load\", toggleScrolled);\n    };\n  }, []); // Empty dependency array means this runs once on mount\n\n  // --- Mobile Navigation Toggle ---\n  const toggleMobileNav = () => {\n    // Toggle the mobileNavOpen state\n    setMobileNavOpen((prev) => !prev);\n  };\n\n  // Effect to apply/remove 'mobile-nav-active' class on body\n  useEffect(() => {\n    if (mobileNavOpen) {\n      document.body.classList.add(\"mobile-nav-active\");\n      // If using bi-list and bi-x, ensure toggle button reflects state\n      if (mobileNavToggleBtnRef.current) {\n        mobileNavToggleBtnRef.current.classList.remove(\"bi-list\");\n        mobileNavToggleBtnRef.current.classList.add(\"bi-x\");\n      }\n    } else {\n      document.body.classList.remove(\"mobile-nav-active\");\n      if (mobileNavToggleBtnRef.current) {\n        mobileNavToggleBtnRef.current.classList.remove(\"bi-x\");\n        mobileNavToggleBtnRef.current.classList.add(\"bi-list\");\n      }\n    }\n  }, [mobileNavOpen]); // Re-run when mobileNavOpen state changes\n\n  // --- Hide mobile nav on same-page/hash links (or any link click) ---\n  const closeMobileNav = () => {\n    if (mobileNavOpen) {\n      setMobileNavOpen(false); // Close the mobile nav\n    }\n  };\n\n  // --- Navmenu Scrollspy ---\n  useEffect(() => {\n    const navmenuScrollspy = () => {\n      // Select all nav links inside the navmenu\n      const navmenulinks = document.querySelectorAll('#navmenu a[href^=\"#\"]'); // Only target hash links\n\n      navmenulinks.forEach((navmenulink) => {\n        const hash = navmenulink.hash;\n        if (!hash) return; // Skip links without a hash\n\n        const section = document.querySelector(hash);\n        if (!section) return; // Skip if section doesn't exist\n\n        const position = window.scrollY + 200; // Offset for header height\n\n        if (\n          position >= section.offsetTop &&\n          position < section.offsetTop + section.offsetHeight\n        ) {\n          // If the section is in view, add 'active' class to its corresponding nav link\n          // First, remove 'active' from all other nav links\n          document.querySelectorAll(\"#navmenu a\").forEach((link) => {\n            if (link !== navmenulink) {\n              // Don't remove if it's the current active one\n              link.classList.remove(\"active\");\n            }\n          });\n          navmenulink.classList.add(\"active\");\n        } else {\n          // If the section is not in view, remove 'active' class\n          navmenulink.classList.remove(\"active\");\n        }\n      });\n\n      // Special handling for the root path if no specific section is active\n      if (location.pathname === \"/\" && window.scrollY < 200) {\n        // Adjust value as needed\n        const homeLink = document.querySelector('.navmenu a[href=\"/\"]');\n        if (homeLink) {\n          document\n            .querySelectorAll(\".navmenu a\")\n            .forEach((link) => link.classList.remove(\"active\"));\n          homeLink.classList.add(\"active\");\n        }\n      }\n    };\n\n    window.addEventListener(\"load\", navmenuScrollspy);\n    document.addEventListener(\"scroll\", navmenuScrollspy);\n\n    // Cleanup: remove event listeners\n    return () => {\n      window.removeEventListener(\"load\", navmenuScrollspy);\n      document.removeEventListener(\"scroll\", navmenuScrollspy);\n    };\n  }, [location.pathname]); // Re-run if path changes (e.g., navigating directly)\n\n  // Close profile menu when clicking outside or pressing Escape\n  useEffect(() => {\n    function handleOutsideClick(e) {\n      if (\n        profileMenuOpen &&\n        profileMenuRef.current &&\n        !profileMenuRef.current.contains(e.target)\n      ) {\n        setProfileMenuOpen(false);\n      }\n    }\n\n    function handleKeydown(e) {\n      if (e.key === \"Escape\") setProfileMenuOpen(false);\n    }\n\n    document.addEventListener(\"mousedown\", handleOutsideClick);\n    document.addEventListener(\"touchstart\", handleOutsideClick);\n    document.addEventListener(\"keydown\", handleKeydown);\n\n    return () => {\n      document.removeEventListener(\"mousedown\", handleOutsideClick);\n      document.removeEventListener(\"touchstart\", handleOutsideClick);\n      document.removeEventListener(\"keydown\", handleKeydown);\n    };\n  }, [profileMenuOpen]);\n\n  return (\n    <header\n      ref={headerRef}\n      className={`header ${headerScrolled ? \"scrolled\" : \"\"}`}\n    >\n      <div className=\"header-container\">\n        <Link to=\"/\" className=\"logo\" onClick={closeMobileNav}>\n          <img src=\"/assets/img/logo.png\" alt=\"logo\" />\n        </Link>\n\n        <nav className={`navmenu ${mobileNavOpen ? \"open\" : \"\"}`}>\n          <ul className=\"main-nav\">\n            {/* Show different navigation based on user role and current location */}\n            {!user ? (\n              // Guest navigation\n              <>\n                <li>\n                  <Link\n                    to=\"/\"\n                    className={location.pathname === \"/\" ? \"active\" : \"\"}\n                  >\n                    Home\n                  </Link>\n                </li>\n                <li>\n                  <Link\n                    to=\"/contact\"\n                    className={location.pathname === \"/contact\" ? \"active\" : \"\"}\n                  >\n                    Contact\n                  </Link>\n                </li>\n                <li>\n                  <Link\n                    to=\"/careers\"\n                    className={location.pathname === \"/careers\" ? \"active\" : \"\"}\n                  >\n                    Careers\n                  </Link>\n                </li>\n                <li>\n                  <Link\n                    to=\"/auth?mode=login\"\n                    className={location.pathname === \"/auth\" ? \"active\" : \"\"}\n                  >\n                    Login\n                  </Link>\n                </li>\n              </>\n            ) : role === \"admin\" ? (\n              // Admin navigation\n              <>\n                <li>\n                  <Link\n                    to=\"/admin\"\n                    className={location.pathname === \"/admin\" ? \"active\" : \"\"}\n                  >\n                    Dashboard\n                  </Link>\n                </li>\n                <li>\n                  <Link\n                    to=\"/admin/homepage\"\n                    className={\n                      location.pathname === \"/admin/homepage\" ? \"active\" : \"\"\n                    }\n                  >\n                    Homepage\n                  </Link>\n                </li>\n                <li>\n                  <Link\n                    to=\"/admin/contact\"\n                    className={\n                      location.pathname === \"/admin/contact\" ? \"active\" : \"\"\n                    }\n                  >\n                    Contact\n                  </Link>\n                </li>\n                <li>\n                  <Link\n                    to=\"/admin/careers\"\n                    className={\n                      location.pathname === \"/admin/careers\" ? \"active\" : \"\"\n                    }\n                  >\n                    Careers\n                  </Link>\n                </li>\n                <li className=\"profile-menu\" ref={profileMenuRef}>\n                  <button onClick={handleProfileClick} className=\"profile-btn\">\n                    Admin {profileMenuOpen ? \"▲\" : \"▼\"}\n                  </button>\n                  {profileMenuOpen && (\n                    <ul className=\"dropdown\">\n                      <li>\n                        <Link to=\"/\" onClick={closeMobileNav}>\n                          Public Site\n                        </Link>\n                      </li>\n                      <li>\n                        <button className=\"logout-btn\" onClick={handleLogout}>\n                          Logout\n                        </button>\n                      </li>\n                    </ul>\n                  )}\n                </li>\n              </>\n            ) : role === \"user\" ? (\n              // User navigation\n              <>\n                <li>\n                  <Link\n                    to=\"/user\"\n                    className={location.pathname === \"/user\" ? \"active\" : \"\"}\n                  >\n                    Dashboard\n                  </Link>\n                </li>\n                <li>\n                  <Link\n                    to=\"/user/homepage\"\n                    className={\n                      location.pathname === \"/user/homepage\" ? \"active\" : \"\"\n                    }\n                  >\n                    Homepage\n                  </Link>\n                </li>\n                <li>\n                  <Link\n                    to=\"/user/contact\"\n                    className={\n                      location.pathname === \"/user/contact\" ? \"active\" : \"\"\n                    }\n                  >\n                    Contact\n                  </Link>\n                </li>\n                <li>\n                  <Link\n                    to=\"/user/careers\"\n                    className={\n                      location.pathname === \"/user/careers\" ? \"active\" : \"\"\n                    }\n                  >\n                    Careers\n                  </Link>\n                </li>\n                <li className=\"profile-menu\" ref={profileMenuRef}>\n                  <button onClick={handleProfileClick} className=\"profile-btn\">\n                    Profile {profileMenuOpen ? \"▲\" : \"▼\"}\n                  </button>\n                  {profileMenuOpen && (\n                    <ul className=\"dropdown\">\n                      <li>\n                        <Link to=\"/user/profile\">Settings</Link>\n                      </li>\n                      <li>\n                        <Link to=\"/\" onClick={closeMobileNav}>\n                          Public Site\n                        </Link>\n                      </li>\n                      <li>\n                        <button className=\"logout-btn\" onClick={handleLogout}>\n                          Logout\n                        </button>\n                      </li>\n                    </ul>\n                  )}\n                </li>\n              </>\n            ) : (\n              // Fallback for users without role\n              <>\n                <li>\n                  <Link\n                    to=\"/\"\n                    className={location.pathname === \"/\" ? \"active\" : \"\"}\n                  >\n                    Home\n                  </Link>\n                </li>\n                <li>\n                  <Link\n                    to=\"/contact\"\n                    className={location.pathname === \"/contact\" ? \"active\" : \"\"}\n                  >\n                    Contact\n                  </Link>\n                </li>\n                <li>\n                  <Link\n                    to=\"/careers\"\n                    className={location.pathname === \"/careers\" ? \"active\" : \"\"}\n                  >\n                    Careers\n                  </Link>\n                </li>\n                <li className=\"profile-menu\" ref={profileMenuRef}>\n                  <button onClick={handleProfileClick} className=\"profile-btn\">\n                    User {profileMenuOpen ? \"▲\" : \"▼\"}\n                  </button>\n                  {profileMenuOpen && (\n                    <ul className=\"dropdown\">\n                      <li>\n                        <Link to=\"/profile\">Settings</Link>\n                      </li>\n                      <li>\n                        <button className=\"logout-btn\" onClick={handleLogout}>\n                          Logout\n                        </button>\n                      </li>\n                    </ul>\n                  )}\n                </li>\n              </>\n            )}\n          </ul>\n        </nav>\n\n        <i\n          ref={mobileNavToggleBtnRef}\n          className={`mobile-nav-toggle ${mobileNavOpen ? \"open\" : \"\"}`}\n          onClick={toggleMobileNav}\n        >\n          ☰\n        </i>\n      </div>\n    </header>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}